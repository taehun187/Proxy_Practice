# Reflection & Dynamic Proxy in Java

이 프로젝트는 **Java Reflection**과 **Dynamic Proxy**를 활용하여 동적 메서드 호출, 클래스 구조 탐색, 런타임 객체 생성 및 위임 로직 구현을 다룹니다. Reflection과 Dynamic Proxy는 Java에서 런타임 시 동적인 동작을 구현하기 위해 제공되는 강력한 도구입니다.

---

## 주요 주제 및 기능

### 1. **Reflection 활용**
Reflection은 Java 프로그램에서 런타임 시 클래스, 메서드, 필드 등의 구조를 탐색하고 조작할 수 있는 기능입니다.

#### 사용 사례
- **클래스 구조 탐색**: 클래스 내 배열 필드나 특정 필드를 동적으로 검색하고 메타데이터를 확인.
- **Private 필드 접근**: 보통 접근할 수 없는 private 필드 및 메서드에 접근.
- **동적 객체 조작**: 런타임에 객체의 상태를 수정하거나 메서드를 호출.

---

### 2. **Dynamic Proxy**
Dynamic Proxy는 런타임에 프록시 객체를 생성하여 동적으로 메서드 호출을 가로채고, 원하는 동작을 추가하거나 위임하는 기능을 제공합니다.

#### 사용 사례
- **AOP (Aspect-Oriented Programming)**: 메서드 호출 전후에 공통 로직(예: 로깅, 트랜잭션 관리) 추가.
- **다중 인터페이스 위임**: 하나의 프록시 객체가 여러 인터페이스를 구현하고, 각각의 메서드를 적절한 구현체에 위임.
- **Runtime 메서드 동작 변경**: 메서드 호출 흐름을 동적으로 제어하거나 로직을 커스터마이징.

---

## 주요 구현 내용

### Reflection
1. **클래스 메타데이터 탐색**:
   - 클래스의 필드, 메서드, 생성자 등을 동적으로 탐색.
   - 배열 필드 및 구성 요소 타입 확인.
2. **Private 필드 조작**:
   - `setAccessible(true)`를 통해 접근 제어자를 우회하여 private 필드를 읽고 수정.
3. **실시간 필드 확장**:
   - `BufferedReader` 내부의 백업 배열을 동적으로 확장하여 런타임에 성능을 개선.

### Dynamic Proxy
1. **InvocationHandler 구현**:
   - `invoke` 메서드를 통해 메서드 호출을 가로채고 동작 제어.
2. **Static Factory Method**:
   - 런타임에 프록시 객체를 생성하는 정적 팩토리 메서드 구현.
3. **다중 인터페이스 위임**:
   - 프록시 객체가 여러 인터페이스를 구현하고, 메서드 호출을 적절한 구현체로 분배.
4. **AOP 스타일 로깅**:
   - 메서드 호출 전후에 로깅이나 예외 처리 로직을 삽입.

---

## 활용 예제

### Reflection
- 특정 클래스의 배열 필드를 탐색하고 메타데이터를 출력.
- `BufferedReader` 내부 필드를 검색하여 런타임에 배열 크기 확장.

### Dynamic Proxy
- 인터페이스를 기반으로 프록시 객체를 생성하고, 메서드 호출 전후에 로깅 처리.
- 다중 인터페이스를 구현하는 프록시 객체를 생성하여 호출 위임 로직 구현.
- 런타임 예외 처리 및 공통 로직 삽입.

---

## 학습 포인트

1. **Reflection**
   - 클래스와 객체의 런타임 구조 탐색 및 동적 조작.
   - Reflection의 강력함과 보안 및 성능 문제를 고려한 신중한 사용.

2. **Dynamic Proxy**
   - 런타임에 동적으로 메서드 호출을 가로채고 원하는 동작을 삽입.
   - 다중 인터페이스 처리 및 메서드 호출 위임 로직 설계.

3. **실무 활용**
   - AOP 구현: 트랜잭션 관리, 로깅, 보안 로직 적용.
   - 런타임에 클래스와 객체의 동적 동작 제어.

---

## 참고 사항

- Reflection과 Dynamic Proxy는 강력하지만 성능에 영향을 줄 수 있으므로 꼭 필요한 경우에만 사용.
- Reflection으로 private 필드나 메서드에 접근할 때는 보안 및 유지보수성을 고려.
- Dynamic Proxy는 **인터페이스** 기반으로 동작하며, 구체 클래스를 지원하려면 **CGLIB** 같은 라이브러리를 사용해야 함.
```
